{"version":3,"file":"static/js/998.757b565d.chunk.js","mappings":"4LACA,EAA0B,yBAA1B,EAAmE,+BCAnE,EAAyB,uBAAzB,EAAyD,uBAAzD,EAA0F,wB,mBCkB1F,EAhBe,SAACA,GACd,IAAQC,EAAeD,EAAfC,GACR,EADuBD,EAAXE,OACwBC,KAA5BC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,SAEVC,EAAO,YAAcL,EAE3B,OACE,iBAAKM,UAAYC,EAAgB,IAAMA,EAAvC,WACE,gBAAKC,IAAML,EAAOM,MAAMD,IAAME,IAAMP,EAAOM,MAAME,SAEjD,gBAAKL,UAAWC,EAAhB,UACI,SAAC,KAAD,CAASK,GAAKP,EAAd,SAAuBD,QAIhC,E,gFCjBD,EAAgC,gCAAhC,EAA2E,2BCA3E,EAA0B,yBAA1B,EAA+D,2BCU/D,EATgB,SAACL,GACf,IAAMc,EAAYd,EAAMe,aAAef,EAAMgB,QAAQC,OAAST,EAAmB,GACjF,OACE,gBAAKD,UAAYO,EAAjB,UACE,gBAAKP,UAAYC,EAAjB,SAAoCR,EAAMgB,QAAQE,QAGvD,ECRD,EAA4E,kC,UCEtEC,EAAO,SAAC,GAAoF,IAAlFC,EAAiF,EAAjFA,OAAQC,EAAyE,EAAzEA,aAAcC,EAA2D,EAA3DA,WAAYC,EAA+C,EAA/CA,aAAcC,EAAiC,EAAjCA,aAAiC,EAAnBC,aAC5E,OACE,kBAAMC,SAAWH,EAAjB,WACE,gBAAKhB,UAAYC,EAAjB,UACE,SAAC,KAAD,CACEmB,KAAO,OACPC,KAAO,UACPC,GAAK,WACLC,MAAQV,EAAOJ,QACfe,SAAWV,EACXW,OAASV,OAIb,gBAAKf,UAAYC,EAAjB,UACE,mBAAQmB,KAAO,SAAWM,SAAWT,EAArC,wBAMP,EAUD,EARqB,SAAAxB,GACnB,OACE,SAAC,KAAD,CAAQkC,cAAgB,CAAElB,QAAS,IAAOU,SAAW1B,EAAMmC,cAA3D,SACIhB,GAGP,ECCD,EA7BiB,SAACnB,GAChB,IAAMoC,EAAmBpC,EAAME,OAAOmC,SAASC,KAAI,SAAAtB,GACjD,OACE,SAAC,EAAD,CAASf,GAAKe,EAAQf,GAAwBe,QAAUA,EAAUD,WAAaf,EAAMe,YAApDC,EAAQf,GAE5C,IAaD,OACE,iBAAKM,UAAYC,EAAjB,WACE,gBAAKD,UAAYC,EAAjB,SACI4B,KAGJ,SAAC,EAAD,CAAcD,cAjBI,SAACL,EAAD,GAEpB,OADAS,EAD8C,EAAhBA,aAEvBvC,EAAMwC,kBAAkB,CAC7BvC,GAAID,EAAME,OAAOD,GACjBwC,YAAazC,EAAME,OAAOuC,YAC1BC,cAAe1C,EAAME,OAAOwC,cAC5BzB,OAAQjB,EAAMe,WACdC,QAASc,EAAMd,SAElB,MAWF,E,oBChBK2B,EAAqB,CAAEH,kBAAAA,EAAAA,GAAmBI,UAAAA,EAAAA,IAE1CC,EAAAA,SAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,GAAAA,SAAAA,IAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,KAAAA,GAAAA,IAAAA,IAAAA,EAAAA,UAAAA,OAAAA,EAAAA,IAAAA,MAAAA,GAAAA,EAAAA,EAAAA,EAAAA,EAAAA,IAAAA,EAAAA,GAAAA,UAAAA,GAKH,OALGA,EAAAA,EAAAA,KAAAA,MAAAA,EAAAA,CAAAA,MAAAA,OAAAA,KACJC,mBAAqB,SAACC,GAChBA,EAAUC,OAAOC,OAAOhD,KAAO,EAAKD,MAAMgD,OAAOC,OAAOhD,IAC1D,EAAKD,MAAM4C,UAAU,CAAE3C,GAAI,EAAKD,MAAMgD,OAAOC,OAAOhD,GAAIgB,OAAQ,EAAKjB,MAAMe,YAE9E,IAMA,OANA,8BAED,WACE,OACE,8BAAImC,KAAKlD,MAAME,SAAU,SAAC,GAAD,UAAegD,KAAKlD,SAEhD,OAXG6C,CAA0BM,EAAAA,WAchC,GAAeC,EAAAA,EAAAA,IACbC,EAAAA,GACAC,EAAAA,EAAAA,KAzBsB,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,aAAcC,EAAW,EAAXA,KACvC,MAAO,CACLtD,OAAQqD,EAAarD,OACrBa,WAAYyC,EAAKvC,OAEpB,GAoB0B0B,GAF3B,CAGEE,G,SCTF,EArBgB,SAAC7C,GACf,IAEMyD,EAFczD,EAAZ0D,QAEuBpB,KAAI,YAAwB,IAArBrC,EAAoB,EAApBA,GAAOC,GAAa,YACtD,OACE,SAAC,EAAD,CAAQD,GAAKA,EAAgBC,OAASA,GAAdD,EAE3B,IAGH,OACE,iBAAKM,UAAYC,EAAjB,WACE,gBAAKD,UAAYC,EAAjB,SACIiD,KAGJ,SAAC,EAAD,MAGL,C","sources":["webpack://react-way-of-samurai/./src/components/Dialogs/Dialogs.module.css?1b2e","webpack://react-way-of-samurai/./src/components/Dialogs/Dialog/Dialog.module.css?19be","components/Dialogs/Dialog/Dialog.jsx","webpack://react-way-of-samurai/./src/components/Dialogs/Messages/Messages.module.css?2673","webpack://react-way-of-samurai/./src/components/Dialogs/Messages/Message/Message.module.css?fb09","components/Dialogs/Messages/Message/Message.jsx","webpack://react-way-of-samurai/./src/components/Dialogs/Messages/MessagesForm/MessagesForm.module.css?fa38","components/Dialogs/Messages/MessagesForm/MessagesForm.jsx","components/Dialogs/Messages/Messages.jsx","components/Dialogs/Messages/MessagesContainer.jsx","components/Dialogs/Dialogs.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"dialogs\":\"Dialogs_dialogs__oe96H\",\"dialogsNavBar\":\"Dialogs_dialogsNavBar__PR0+m\",\"active\":\"Dialogs_active__t8cjl\"};","// extracted by mini-css-extract-plugin\nexport default {\"dialog\":\"Dialog_dialog__5HDuH\",\"active\":\"Dialog_active__RnDaX\",\"navLink\":\"Dialog_navLink__dGgmX\"};","import styles from './Dialog.module.css';\nimport { NavLink } from 'react-router-dom';\n\nconst Dialog = (props) => {\n  const { id, dialog } = props;\n  const { avatar, fullName } = dialog.user;\n\n  const path = '/dialogs/' + id;\n\n  return (\n    <div className={ styles.dialog + ' ' + styles.active }>\n      <img src={ avatar.large.src } alt={ avatar.large.title }/>\n\n      <div className={styles.navLink}>\n          <NavLink to={ path }>{ fullName }</NavLink>\n      </div>\n    </div>\n  )\n}\nexport default Dialog;","// extracted by mini-css-extract-plugin\nexport default {\"messagesField\":\"Messages_messagesField__th2bn\",\"messages\":\"Messages_messages__1SiN1\"};","// extracted by mini-css-extract-plugin\nexport default {\"message\":\"Message_message__Zv4LA\",\"myMessage\":\"Message_myMessage__KPd3X\"};","import styles from './Message.module.css';\n\nconst Message = (props) => {\n  const myMessage = props.authUserId === props.message.userId ? styles.myMessage : '';\n  return (\n    <div className={ myMessage }>\n      <div className={ styles.message }>{ props.message.text }</div>\n    </div>\n  )\n}\n\nexport default Message;","// extracted by mini-css-extract-plugin\nexport default {\"newMessage\":\"MessagesForm_newMessage__MZlrc\",\"formElement\":\"MessagesForm_formElement__yQBxv\"};","import styles from './MessagesForm.module.css';\nimport { Field, Formik } from 'formik';\n\nconst Form = ({ values, handleChange, handleBlur, handleSubmit, isSubmitting, onPostChange }) => {\n  return (\n    <form onSubmit={ handleSubmit }>\n      <div className={ styles.formElement }>\n        <Field\n          type={ \"text\" }\n          name={ \"message\" }\n          as={ \"textarea\" }\n          value={ values.message }\n          onChange={ handleChange }\n          onBlur={ handleBlur }\n        />\n      </div>\n\n      <div className={ styles.formElement }>\n        <button type={ \"submit\" } disabled={ isSubmitting }>\n          Submit\n        </button>\n      </div>\n    </form>\n  );\n}\n\nconst MessagesForm = props => {\n  return (\n    <Formik initialValues={ { message: '' } } onSubmit={ props.onSendMessage }>\n      { Form }\n    </Formik>\n  );\n}\n\nexport default MessagesForm;","import styles from './Messages.module.css';\nimport Message from './Message/Message';\nimport MessagesForm from './MessagesForm/MessagesForm';\n\nconst Messages = (props) => {\n  const messagesElements = props.dialog.messages.map(message => {\n    return (\n      <Message id={ message.id } key={ message.id } message={ message } authUserId={ props.authUserId }/>\n    )\n  });\n\n  const onSendMessage = (value, { resetForm }) => {\n    resetForm()\n    return props.sendDialogMessage({\n      id: props.dialog.id,\n      organizerId: props.dialog.organizerId,\n      participantId: props.dialog.participantId,\n      userId: props.authUserId,\n      message: value.message\n    });\n  }\n\n  return (\n    <div className={ styles.messagesField }>\n      <div className={ styles.messages }>\n        { messagesElements }\n      </div>\n\n      <MessagesForm onSendMessage={ onSendMessage }/>\n    </div>\n  )\n}\n\nexport default Messages;","import React from 'react';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\n\nimport Messages from './Messages';\nimport { getDialog, sendDialogMessage } from '../../../redux/thunkCreators/thunkCreators';\nimport withRouter from '../../../hoc/withRouter';\n\nconst mapStateToProps = ({ messagesPage, auth }) => {\n  return {\n    dialog: messagesPage.dialog,\n    authUserId: auth.userId,\n  };\n};\n\nconst mapDispatchToProps = { sendDialogMessage, getDialog }\n\nclass MessagesContainer extends React.Component {\n  componentDidUpdate = (prevProps) => {\n    if (prevProps.router.params.id !== this.props.router.params.id) {\n      this.props.getDialog({ id: this.props.router.params.id, userId: this.props.authUserId })\n    }\n  }\n\n  render() {\n    return (\n      <>{ this.props.dialog && <Messages { ...this.props }/> }</>\n    );\n  }\n}\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, mapDispatchToProps)\n)(MessagesContainer);","import styles from './Dialogs.module.css';\nimport Dialog from './Dialog/Dialog';\nimport MessagesContainer from './Messages/MessagesContainer';\n\nconst Dialogs = (props) => {\n  const { dialogs } = props;\n\n  const dialogElements = dialogs.map(({ id, ...dialog }) => {\n      return (\n        <Dialog id={ id } key={ id } dialog={ dialog }/>\n      )\n    }\n  );\n\n  return (\n    <div className={ styles.dialogs }>\n      <div className={ styles.dialogsNavBar }>\n        { dialogElements }\n      </div>\n\n      <MessagesContainer/>\n    </div>\n  )\n}\n\nexport default Dialogs;"],"names":["props","id","dialog","user","avatar","fullName","path","className","styles","src","large","alt","title","to","myMessage","authUserId","message","userId","text","Form","values","handleChange","handleBlur","handleSubmit","isSubmitting","onPostChange","onSubmit","type","name","as","value","onChange","onBlur","disabled","initialValues","onSendMessage","messagesElements","messages","map","resetForm","sendDialogMessage","organizerId","participantId","mapDispatchToProps","getDialog","MessagesContainer","componentDidUpdate","prevProps","router","params","this","React","compose","withRouter","connect","messagesPage","auth","dialogElements","dialogs"],"sourceRoot":""}