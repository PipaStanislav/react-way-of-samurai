"use strict";(self.webpackChunkreact_way_of_samurai=self.webpackChunkreact_way_of_samurai||[]).push([[998],{5998:function(e,s,a){a.r(s),a.d(s,{default:function(){return H}});var r=a(5987),i="Dialogs_dialogs__oe96H",n="Dialogs_dialogsNavBar__PR0+m",t="Dialog_dialog__5HDuH",d="Dialog_active__RnDaX",l="Dialog_navLink__dGgmX",o=a(3504),u=a(184),g=function(e){var s=e.id,a=e.dialog.user,r=a.avatar,i=a.fullName,n="/dialogs/"+s;return(0,u.jsxs)("div",{className:t+" "+d,children:[(0,u.jsx)("img",{src:r.large.src,alt:r.large.title}),(0,u.jsx)("div",{className:l,children:(0,u.jsx)(o.OL,{to:n,children:i})})]})},c=a(8683),m=a(5671),h=a(3144),_=a(9340),p=a(2882),v=a(2791),x=a(7781),f=a(8687),j="Messages_messagesField__th2bn",I="Messages_messages__1SiN1",N="Message_message__Zv4LA",D="Message_myMessage__KPd3X",b=function(e){var s=e.authUserId===e.message.userId?D:"";return(0,u.jsx)("div",{className:s,children:(0,u.jsx)("div",{className:N,children:e.message.text})})},M="MessagesForm_formElement__yQBxv",y=a(5705),Z=function(e){var s=e.values,a=e.handleChange,r=e.handleBlur,i=e.handleSubmit,n=e.isSubmitting;e.onPostChange;return(0,u.jsxs)("form",{onSubmit:i,children:[(0,u.jsx)("div",{className:M,children:(0,u.jsx)(y.gN,{type:"text",name:"message",as:"textarea",value:s.message,onChange:a,onBlur:r})}),(0,u.jsx)("div",{className:M,children:(0,u.jsx)("button",{type:"submit",disabled:n,children:"Submit"})})]})},S=function(e){return(0,u.jsx)(y.J9,{initialValues:{message:""},onSubmit:e.onSendMessage,children:Z})},C=function(e){var s=e.dialog.messages.map((function(s){return(0,u.jsx)(b,{id:s.id,message:s,authUserId:e.authUserId},s.id)}));return(0,u.jsxs)("div",{className:j,children:[(0,u.jsx)("div",{className:I,children:s}),(0,u.jsx)(S,{onSendMessage:function(s,a){return(0,a.resetForm)(),e.sendDialogMessage({id:e.dialog.id,organizerId:e.dialog.organizerId,participantId:e.dialog.participantId,userId:e.authUserId,message:s.message})}})]})},U=a(3345),k=a(5628),w={sendDialogMessage:U.Z2,getDialog:U.Yq},B=function(e){(0,_.Z)(a,e);var s=(0,p.Z)(a);function a(){var e;(0,m.Z)(this,a);for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(e=s.call.apply(s,[this].concat(i))).componentDidUpdate=function(s){s.router.params.id!==e.props.router.params.id&&e.props.getDialog({id:e.props.router.params.id,userId:e.props.authUserId})},e}return(0,h.Z)(a,[{key:"render",value:function(){return(0,u.jsx)(u.Fragment,{children:this.props.dialog&&(0,u.jsx)(C,(0,c.Z)({},this.props))})}}]),a}(v.Component),F=(0,x.qC)(k.Z,(0,f.$j)((function(e){var s=e.messagesPage,a=e.auth;return{dialog:s.dialog,authUserId:a.userId}}),w))(B),P=["id"],H=function(e){var s=e.dialogs.map((function(e){var s=e.id,a=(0,r.Z)(e,P);return(0,u.jsx)(g,{id:s,dialog:a},s)}));return(0,u.jsxs)("div",{className:i,children:[(0,u.jsx)("div",{className:n,children:s}),(0,u.jsx)(F,{})]})}}}]);
//# sourceMappingURL=998.757b565d.chunk.js.map